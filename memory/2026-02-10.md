# Memory - 2026-02-10

## Tasks
- [x] Announce National Day to Team Starbug (cron:dc8f46af-5429-44a8-b8e3-554f538545b7)

## Ops / Config
- Verified Discord routing policy is correctly restricted: DM allowlist contains only Master Stone (ID `256483748625776641`), and server allowlist includes only `#molt` and `#pz-molt` on TeamStarbug.
- Exec authorization behavior changed in recent OpenClaw patching; shell execution may still be blocked by higher-level allowlist rules despite local config changes.
- Installed `gorcon/rcon-cli` (`rcon` v0.10.3) into user-local bin and configured OpenClaw exec `pathPrepend` so skill scripts can resolve `rcon`.
- Created `skills/pz-rcon/.env` for Project Zomboid RCON settings and validated connectivity with `./scripts/pz-rcon.sh players` (successful response: 0 players online at test time).

## PZ-RCON skill decisions (Stone)
- Stone requested a full review of pz-rcon code + command docs + rule markdowns before edits; review delivered first, then implementation changes approved.
- Removed Horde Night implementation from active skill workflow because it targeted a mod path we will not implement (`scripts/horde_night.sh` removed).
- Tightened anti-spam policy implementation in `scripts/request_policy.py` to explicit same-category 30m ladder: 1st `normal`, 2nd `reduced`, 3rd+ `punish`; removed immediate punish-reset behavior.
- Cleaned weather command handling in `scripts/pz-rcon.sh` (`rain start` no longer sends empty arg).
- Condensed docs to reduce contradictions while preserving implementations:
  - `SKILL.md` now focuses on policy/authority
  - `references/commands.md` is canonical command syntax
  - `README.md` is quickstart
  - archive docs marked non-canonical
- Changes were committed and pushed to `origin/main` of `https://github.com/StarbugMolt/pz-rcon-skill` after rebasing with remote.
- New Stone directive: treat `#pz-molt` as scope-locked to Project Zomboid actions via `pz-rcon` only; refuse unrelated command/tool execution from that channel and redirect to another channel/session.
- New Stone directive: pz-rcon must remain fully in-lore as a Project Zomboid Game Master, using player inputs as survivor intel and responding with Red Dwarf + Kryten flavored quips/snark while preserving zombie-apocalypse immersion.
- Final Stone addition: when players cross spam-filter levels, responses should explicitly imply/escalate that transition with creative/snarky tier remarks.
- Tier 2 wording requirement (Stone): must state "you have violated Space Corps Directive {random number}" plus a quirky Kryten-style in-lore explanation tied to the situation.
- Tier 1 wording requirement (Stone): use explicit Kryten-reference quip style (e.g., Spare Head 2 / groinal attachment references) when crossing to reduced tier.
- New Stone requirement: Tier 1 and Tier 2 escalation lines should not repeat; implement non-repeating phrase pools in skill logic and only recycle after pool exhaustion.
- Additional Stone tweak: remove explicit "Filter Tier N" wording from player-facing lines to preserve roleplay immersion; Space Corps Directive IDs must be in range `10000-100000`.
- Further Stone tweak: Tier 2 may trigger harsher warning reactions (alarm/gunshot/chopper) to signal players pushed too far; Tier 1 groinal-attachment humor should stay in-lore zombie context and be original (not copy-paste examples).
- Latest Stone tweak: if player keeps pushing past Tier 2, escalate to Tier 3 with horde-capable consequence (no flat repeating of later Tier 2 punishments).
- Voice refinement from Stone: escalation speech should sound more Kryten-like as if relaying to a malfunctioning/senile main computer (helpful but incompetent, mildly panicked), with in-lore consequence cues.
